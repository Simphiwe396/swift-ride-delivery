<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftRide - Premium Delivery Service</title>
    
    <meta name="application-name" content="SwiftRide">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#6C63FF">
    
    <link rel="apple-touch-icon" sizes="180x180" href="./icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./icons/favicon-16x16.png">
    <link rel="manifest" href="./site.webmanifest">
    <link rel="icon" type="image/x-icon" href="./icons/favicon.ico">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="./styles.css">
    
    <style>
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #6C63FF, #4A43C8);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            color: white;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .map-placeholder {
            height: 400px;
            width: 100%;
            border-radius: 12px;
            background: linear-gradient(135deg, #6C63FF, #4A43C8);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .user-type-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .user-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .user-card:hover {
            transform: translateY(-5px);
            border-color: #6C63FF;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
        }
        
        .tracking-item {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #6C63FF;
            margin: 10px 0;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e8eaf2;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .login-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            border: 2px solid #e8eaf2;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            margin-bottom: 15px;
            width: 100%;
        }
        
        .login-option:hover {
            border-color: #6C63FF;
        }
        
        .login-option i {
            font-size: 2rem;
            color: #6C63FF;
        }
    </style>
</head>
<body>
    <div id="loadingScreen" class="loading-screen">
        <div class="loader"></div>
        <h2>SwiftRide Delivery</h2>
        <p>Loading your experience...</p>
    </div>
    
    <div class="app-container">
        <header class="app-header">
            <div class="logo">
                <i class="fas fa-bolt"></i>
                <h1>SwiftRide</h1>
            </div>
            <nav class="main-nav">
                <a href="#home" class="nav-link active"><i class="fas fa-home"></i> Home</a>
                <a href="#features" class="nav-link"><i class="fas fa-star"></i> Features</a>
                <a href="#tracking" class="nav-link"><i class="fas fa-map-marker-alt"></i> Tracking</a>
                <a href="#login" class="nav-link" id="loginBtn"><i class="fas fa-user"></i> Login</a>
            </nav>
        </header>
        
        <main class="main-content">
            <section id="home" class="hero-section">
                <div class="hero-content">
                    <h2>Delivery in Minutes, Not Hours</h2>
                    <p>Track your packages in real-time with our premium delivery service</p>
                    
                    <div class="user-type-selector">
                        <div class="user-card" id="customerCard">
                            <i class="fas fa-shopping-bag"></i>
                            <h3>Customer</h3>
                            <p>Send packages</p>
                        </div>
                        <div class="user-card" id="driverCard">
                            <i class="fas fa-motorcycle"></i>
                            <h3>Driver</h3>
                            <p>Earn money</p>
                        </div>
                        <div class="user-card" id="adminCard">
                            <i class="fas fa-chart-line"></i>
                            <h3>Business</h3>
                            <p>Manage deliveries</p>
                        </div>
                    </div>
                </div>
                
                <div class="map-preview">
                    <div class="map-placeholder">
                        <div>
                            <i class="fas fa-map-marked-alt" style="font-size: 3rem;"></i>
                            <h3>Live Driver Tracking</h3>
                            <p>Real-time map available on dashboard</p>
                            <button id="viewMapBtn" style="margin-top: 15px; padding: 10px 20px; background: white; color: #6C63FF; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">
                                View Live Map
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="features-section">
                <h2>Why Choose SwiftRide?</h2>
                <div class="features-grid">
                    <div class="feature">
                        <i class="fas fa-map-marked-alt"></i>
                        <h3>Real-Time Tracking</h3>
                        <p>Watch your delivery move on live map</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-bolt"></i>
                        <h3>Fast Delivery</h3>
                        <p>Average delivery time: 30 minutes</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Secure & Safe</h3>
                        <p>All drivers verified and insured</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-money-bill-wave"></i>
                        <h3>Affordable Rates</h3>
                        <p>From R5/km with no hidden fees</p>
                    </div>
                </div>
            </section>
            
            <section id="tracking" class="tracking-history-section">
                <h2>Recent Driver Tracking</h2>
                <p style="text-align: center; color: #666; margin-bottom: 30px;">Track recent driver activities and deliveries</p>
                
                <div id="trackingHistory">
                    <div class="tracking-item">
                        <h4>John Driver</h4>
                        <p><i class="fas fa-map-marker-alt"></i> Rosebank to Sandton</p>
                        <p><i class="fas fa-clock"></i> 25 minutes ago</p>
                        <p><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Completed</p>
                    </div>
                    <div class="tracking-item">
                        <h4>Sarah Rider</h4>
                        <p><i class="fas fa-map-marker-alt"></i> Melville to Randburg</p>
                        <p><i class="fas fa-clock"></i> 40 minutes ago</p>
                        <p><i class="fas fa-truck-moving" style="color: #2196F3;"></i> In Progress</p>
                    </div>
                    <div class="tracking-item">
                        <h4>Mike Courier</h4>
                        <p><i class="fas fa-map-marker-alt"></i> CBD to Midrand</p>
                        <p><i class="fas fa-clock"></i> 1 hour ago</p>
                        <p><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Completed</p>
                    </div>
                </div>
            </section>
            
            <section class="cta-section">
                <h2>Ready to Deliver?</h2>
                <p>Join thousands of satisfied customers and drivers</p>
                <div class="cta-buttons">
                    <button class="cta-btn primary" id="sendPackageBtn">
                        <i class="fas fa-box"></i> Send a Package
                    </button>
                    <button class="cta-btn secondary" id="becomeDriverBtn">
                        <i class="fas fa-motorcycle"></i> Become a Driver
                    </button>
                </div>
            </section>
        </main>
        
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>SwiftRide</h4>
                    <p>Premium delivery service for businesses and individuals</p>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><i class="fas fa-phone"></i> +27 11 123 4567</p>
                    <p><i class="fas fa-envelope"></i> support@swiftride.co.za</p>
                </div>
                <div class="footer-section">
                    <h4>Download</h4>
                    <button class="install-btn" id="installBtn">
                        <i class="fas fa-download"></i> Install App
                    </button>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SwiftRide Delivery. All rights reserved.</p>
            </div>
        </footer>
    </div>
    
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Login to SwiftRide</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="login-option" id="loginCustomer">
                    <i class="fas fa-user"></i>
                    <div>
                        <h3 style="margin: 0 0 5px 0;">Customer Login</h3>
                        <p style="margin: 0; color: #666;">Send and track packages</p>
                    </div>
                </div>
                
                <div class="login-option" id="loginDriver">
                    <i class="fas fa-motorcycle"></i>
                    <div>
                        <h3 style="margin: 0 0 5px 0;">Driver Login</h3>
                        <p style="margin: 0; color: #666;">Accept delivery requests</p>
                    </div>
                </div>
                
                <div class="login-option" id="loginAdmin">
                    <i class="fas fa-user-shield"></i>
                    <div>
                        <h3 style="margin: 0 0 5px 0;">Admin Login</h3>
                        <p style="margin: 0; color: #666;">Manage the platform</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== ALL FUNCTIONS DEFINED HERE =====
        
        // Login functions
        function loginAsAdmin() {
            const user = {_id:'admin1', name:'Admin', userType:'admin'};
            localStorage.setItem('user', JSON.stringify(user));
            localStorage.setItem('token', 'test');
            hideModal('loginModal');
            setTimeout(() => window.location.href = 'admin.html', 500);
        }
        
        function loginAsDriver() {
            const user = {_id:'driver1', name:'Driver', userType:'driver'};
            localStorage.setItem('user', JSON.stringify(user));
            localStorage.setItem('token', 'test');
            hideModal('loginModal');
            setTimeout(() => window.location.href = 'driver.html', 500);
        }
        
        function loginAsCustomer() {
            const user = {_id:'customer1', name:'Customer', userType:'customer'};
            localStorage.setItem('user', JSON.stringify(user));
            localStorage.setItem('token', 'test');
            hideModal('loginModal');
            setTimeout(() => window.location.href = 'customer.html', 500);
        }
        
        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        
        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Global functions for other pages
        window.trackDriver = function(id) {
            localStorage.setItem('trackingDriverId', id);
            window.location.href = 'tracking.html?driver=' + id;
        };
        
        window.logout = function() {
            localStorage.clear();
            window.location.href = 'index.html';
        };
        
        window.redirectTo = function(page) {
            window.location.href = page + '.html';
        };
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… SwiftRide loaded successfully');
            
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
            }, 1000);
            
            // Setup event listeners
            document.getElementById('loginBtn').addEventListener('click', function(e) {
                e.preventDefault();
                showModal('loginModal');
            });
            
            document.getElementById('customerCard').addEventListener('click', loginAsCustomer);
            document.getElementById('driverCard').addEventListener('click', loginAsDriver);
            document.getElementById('adminCard').addEventListener('click', loginAsAdmin);
            
            document.getElementById('viewMapBtn').addEventListener('click', loginAsAdmin);
            document.getElementById('sendPackageBtn').addEventListener('click', loginAsCustomer);
            document.getElementById('becomeDriverBtn').addEventListener('click', loginAsDriver);
            document.getElementById('installBtn').addEventListener('click', function() {
                alert('PWA installation would happen here');
            });
            
            document.getElementById('closeModal').addEventListener('click', function() {
                hideModal('loginModal');
            });
            
            document.getElementById('loginCustomer').addEventListener('click', loginAsCustomer);
            document.getElementById('loginDriver').addEventListener('click', loginAsDriver);
            document.getElementById('loginAdmin').addEventListener('click', loginAsAdmin);
            
            // Close modal on outside click
            window.addEventListener('click', function(e) {
                if (e.target.id === 'loginModal') {
                    hideModal('loginModal');
                }
            });
        });
    </script>
</body>
</html>